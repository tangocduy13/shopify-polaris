{"version":3,"file":"todoHanddlers.js","names":["_todoRepository","require","getTodos","ctx","todos","getAllTodos","body","e","status","success","data","error","message","getOne","id","params","todo","getOneTodo","createOne","postData","request","newTodo","createTodo","updateOne","updateTodo","updateMany","updateManyTodos","removeOne","removeTodo","removeMany","removeManyTodos"],"sources":["../../../src/handlers/todos/todoHanddlers.js"],"sourcesContent":["import {\r\n  getAll as getAllTodos,\r\n  getOne as getOneTodo,\r\n  create as createTodo,\r\n  update as updateTodo,\r\n  remove as removeTodo,\r\n  removeMany as removeManyTodos,\r\n  updateMany as updateManyTodos,\r\n} from \"../../database/todoRepository\";\r\n\r\nexport async function getTodos(ctx) {\r\n  try {\r\n    const todos = getAllTodos();\r\n    ctx.body = todos;\r\n  } catch (e) {\r\n    ctx.status = 404;\r\n    ctx.body = {\r\n      success: false,\r\n      data: [],\r\n      error: e.message,\r\n    };\r\n  }\r\n}\r\n\r\nexport async function getOne(ctx) {\r\n  try {\r\n    const id = ctx.params.id;\r\n    const todo = getOneTodo({ id });\r\n\r\n    ctx.body = {\r\n      data: todo,\r\n    };\r\n  } catch (e) {\r\n    ctx.status = 404;\r\n    ctx.body = {\r\n      success: false,\r\n      data: [],\r\n      error: e.message,\r\n    };\r\n  }\r\n}\r\n\r\nexport async function createOne(ctx) {\r\n  try {\r\n    const postData = ctx.request.body;\r\n\r\n    const newTodo = createTodo(postData);\r\n    ctx.status = 201;\r\n    return (ctx.body = {\r\n      data: newTodo,\r\n      success: true,\r\n    });\r\n  } catch (e) {\r\n    ctx.status = 400;\r\n    ctx.body = {\r\n      success: false,\r\n      error: e.message,\r\n    };\r\n  }\r\n}\r\n\r\nexport async function updateOne(ctx) {\r\n  try {\r\n    let id = ctx.params.id;\r\n    updateTodo({ id });\r\n\r\n    return (ctx.body = {\r\n      success: true,\r\n    });\r\n  } catch (e) {\r\n    ctx.status = 400;\r\n    ctx.body = {\r\n      success: false,\r\n      error: e.message,\r\n    };\r\n  }\r\n}\r\n\r\nexport async function updateMany(ctx) {\r\n  try {\r\n    const { data } = ctx.request.body;\r\n    updateManyTodos(data);\r\n    ctx.body = {\r\n      success: true,\r\n    };\r\n  } catch (error) {\r\n    (ctx.status = 400),\r\n      (ctx.body = {\r\n        success: false,\r\n        error: error.message,\r\n      });\r\n  }\r\n}\r\n\r\nexport async function removeOne(ctx) {\r\n  try {\r\n    const id = ctx.params.id;\r\n    removeTodo({ id });\r\n\r\n    return (ctx.body = {\r\n      success: true,\r\n    });\r\n  } catch (e) {\r\n    ctx.status = 400;\r\n    ctx.body = {\r\n      success: false,\r\n      error: e.message,\r\n    };\r\n  }\r\n}\r\n\r\nexport async function removeMany(ctx) {\r\n  try {\r\n    const data = ctx.request.body;\r\n    removeManyTodos(data);\r\n    ctx.body = {\r\n      success: true,\r\n    };\r\n  } catch (error) {\r\n    ctx.status = 400;\r\n    ctx.body = {\r\n      success: false,\r\n      error: error.message,\r\n    };\r\n  }\r\n}\r\n"],"mappings":";;;;;;;;;;;;AAAA,IAAAA,eAAA,GAAAC,OAAA;AAUO,eAAeC,QAAQA,CAACC,GAAG,EAAE;EAClC,IAAI;IACF,MAAMC,KAAK,GAAG,IAAAC,sBAAW,EAAC,CAAC;IAC3BF,GAAG,CAACG,IAAI,GAAGF,KAAK;EAClB,CAAC,CAAC,OAAOG,CAAC,EAAE;IACVJ,GAAG,CAACK,MAAM,GAAG,GAAG;IAChBL,GAAG,CAACG,IAAI,GAAG;MACTG,OAAO,EAAE,KAAK;MACdC,IAAI,EAAE,EAAE;MACRC,KAAK,EAAEJ,CAAC,CAACK;IACX,CAAC;EACH;AACF;AAEO,eAAeC,MAAMA,CAACV,GAAG,EAAE;EAChC,IAAI;IACF,MAAMW,EAAE,GAAGX,GAAG,CAACY,MAAM,CAACD,EAAE;IACxB,MAAME,IAAI,GAAG,IAAAC,sBAAU,EAAC;MAAEH;IAAG,CAAC,CAAC;IAE/BX,GAAG,CAACG,IAAI,GAAG;MACTI,IAAI,EAAEM;IACR,CAAC;EACH,CAAC,CAAC,OAAOT,CAAC,EAAE;IACVJ,GAAG,CAACK,MAAM,GAAG,GAAG;IAChBL,GAAG,CAACG,IAAI,GAAG;MACTG,OAAO,EAAE,KAAK;MACdC,IAAI,EAAE,EAAE;MACRC,KAAK,EAAEJ,CAAC,CAACK;IACX,CAAC;EACH;AACF;AAEO,eAAeM,SAASA,CAACf,GAAG,EAAE;EACnC,IAAI;IACF,MAAMgB,QAAQ,GAAGhB,GAAG,CAACiB,OAAO,CAACd,IAAI;IAEjC,MAAMe,OAAO,GAAG,IAAAC,sBAAU,EAACH,QAAQ,CAAC;IACpChB,GAAG,CAACK,MAAM,GAAG,GAAG;IAChB,OAAQL,GAAG,CAACG,IAAI,GAAG;MACjBI,IAAI,EAAEW,OAAO;MACbZ,OAAO,EAAE;IACX,CAAC;EACH,CAAC,CAAC,OAAOF,CAAC,EAAE;IACVJ,GAAG,CAACK,MAAM,GAAG,GAAG;IAChBL,GAAG,CAACG,IAAI,GAAG;MACTG,OAAO,EAAE,KAAK;MACdE,KAAK,EAAEJ,CAAC,CAACK;IACX,CAAC;EACH;AACF;AAEO,eAAeW,SAASA,CAACpB,GAAG,EAAE;EACnC,IAAI;IACF,IAAIW,EAAE,GAAGX,GAAG,CAACY,MAAM,CAACD,EAAE;IACtB,IAAAU,sBAAU,EAAC;MAAEV;IAAG,CAAC,CAAC;IAElB,OAAQX,GAAG,CAACG,IAAI,GAAG;MACjBG,OAAO,EAAE;IACX,CAAC;EACH,CAAC,CAAC,OAAOF,CAAC,EAAE;IACVJ,GAAG,CAACK,MAAM,GAAG,GAAG;IAChBL,GAAG,CAACG,IAAI,GAAG;MACTG,OAAO,EAAE,KAAK;MACdE,KAAK,EAAEJ,CAAC,CAACK;IACX,CAAC;EACH;AACF;AAEO,eAAea,UAAUA,CAACtB,GAAG,EAAE;EACpC,IAAI;IACF,MAAM;MAAEO;IAAK,CAAC,GAAGP,GAAG,CAACiB,OAAO,CAACd,IAAI;IACjC,IAAAoB,0BAAe,EAAChB,IAAI,CAAC;IACrBP,GAAG,CAACG,IAAI,GAAG;MACTG,OAAO,EAAE;IACX,CAAC;EACH,CAAC,CAAC,OAAOE,KAAK,EAAE;IACbR,GAAG,CAACK,MAAM,GAAG,GAAG,EACdL,GAAG,CAACG,IAAI,GAAG;MACVG,OAAO,EAAE,KAAK;MACdE,KAAK,EAAEA,KAAK,CAACC;IACf,CAAE;EACN;AACF;AAEO,eAAee,SAASA,CAACxB,GAAG,EAAE;EACnC,IAAI;IACF,MAAMW,EAAE,GAAGX,GAAG,CAACY,MAAM,CAACD,EAAE;IACxB,IAAAc,sBAAU,EAAC;MAAEd;IAAG,CAAC,CAAC;IAElB,OAAQX,GAAG,CAACG,IAAI,GAAG;MACjBG,OAAO,EAAE;IACX,CAAC;EACH,CAAC,CAAC,OAAOF,CAAC,EAAE;IACVJ,GAAG,CAACK,MAAM,GAAG,GAAG;IAChBL,GAAG,CAACG,IAAI,GAAG;MACTG,OAAO,EAAE,KAAK;MACdE,KAAK,EAAEJ,CAAC,CAACK;IACX,CAAC;EACH;AACF;AAEO,eAAeiB,UAAUA,CAAC1B,GAAG,EAAE;EACpC,IAAI;IACF,MAAMO,IAAI,GAAGP,GAAG,CAACiB,OAAO,CAACd,IAAI;IAC7B,IAAAwB,0BAAe,EAACpB,IAAI,CAAC;IACrBP,GAAG,CAACG,IAAI,GAAG;MACTG,OAAO,EAAE;IACX,CAAC;EACH,CAAC,CAAC,OAAOE,KAAK,EAAE;IACdR,GAAG,CAACK,MAAM,GAAG,GAAG;IAChBL,GAAG,CAACG,IAAI,GAAG;MACTG,OAAO,EAAE,KAAK;MACdE,KAAK,EAAEA,KAAK,CAACC;IACf,CAAC;EACH;AACF"}